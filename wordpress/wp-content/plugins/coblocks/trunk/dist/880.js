(self.webpackChunkcoblocks=self.webpackChunkcoblocks||[]).push([[880],{3601:function(e,t,o){"use strict";const n=(0,o(2175).withColors)("backgroundColor",{textColor:"color"});t.Z=n},5880:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return A}});var n=o(7462),l=o(9307),c=o(4184),r=o.n(c),a=o(7361),i=o.n(a),s=o(7635),u=o(5161),d=o.n(u),m=o(1313),k=o(5736),p=o(5609),b=o(4333),g=o(9818),_=o(2175),v=o(3601),f=o(9035),B=o(3267),h=o(5377),E=e=>{const{clientId:t,attributes:o,setAttributes:n,getBlocksByClientId:c,updateBlockAttributes:r}=e,{columns:a,layout:i,verticalAlignment:s}=o;let u=1;return a&&(u=parseInt(a.toString().split("-"))),i?(0,l.createElement)(l.Fragment,null,(0,l.createElement)(_.BlockControls,null,a&&u>1&&(0,l.createElement)(p.ToolbarGroup,{isCollapsed:!0,icon:(()=>{let e=1;return a&&(e=parseInt(a.toString().split("-"))),void 0===i?B.Z.layout:d()(f.sL[e],(e=>{let{key:t,smallIcon:o}=e;return t===i?o:""}))})(),label:(0,k.__)("Change row block layout","coblocks"),controls:d()(f.sL[u],(e=>{let{name:o,key:l,smallIcon:a}=e;return{title:o,key:l,icon:a,isActive:l===i,onClick:()=>{const e=l.toString().split("-"),o=c(t);n({layout:l}),void 0!==o[0].innerBlocks&&d()(o[0].innerBlocks,((t,o)=>r(t.clientId,{width:e[o]})))}}}))}),(0,l.createElement)(_.BlockVerticalAlignmentToolbar,{onChange:e=>{const o=c(t);n({verticalAlignment:e}),void 0!==o[0].innerBlocks&&d()(o[0].innerBlocks,(t=>r(t.clientId,{verticalAlignment:e})))},value:s}),i&&(0,h.H)(e))):null},y=o(3264);function w(){return(0,l.createElement)(p.PanelBody,{initialOpen:!1,title:(0,l.createElement)("span",{className:"coblocks-ellipsis-loading"},(0,k.__)("Loading Inspector","coblocks"))},(0,l.createElement)(p.Spinner,null))}function I(e){let{children:t}=e;return(0,l.createElement)(_.InspectorControls,null,(0,l.createElement)(l.Suspense,{fallback:(0,l.createElement)(w,null)},t))}var S=o(4981);const C=(0,l.lazy)((()=>o.e(203).then(o.bind(o,4203)))),x=(0,g.withDispatch)((e=>{const{updateBlockAttributes:t}=e("core/block-editor");return{updateBlockAttributes:t}})),T=(0,g.withSelect)(((e,t)=>{const{getBlocks:o,getBlocksByClientId:n}=e("core/block-editor"),{getBlockType:l,getBlockVariations:c,getDefaultBlockVariation:r}=e("core/blocks"),a=o(t.clientId),{replaceInnerBlocks:i}=(0,g.useDispatch)("core/block-editor");return{innerBlocks:a,hasInnerBlocks:e("core/block-editor").getBlocks(t.clientId).length>0,blockType:l(t.name),defaultVariation:void 0===r?null:r(t.name),variations:void 0===c?null:c(t.name),replaceInnerBlocks:i,getBlocksByClientId:n}}));var A=(0,b.compose)(v.Z,T,x)((e=>{const{attributes:t,isSelected:o,setAttributes:c,className:a,variations:u,hasInnerBlocks:g,defaultVariation:v,replaceInnerBlocks:w,blockType:x,textColor:T,backgroundColor:A,clientId:N}=e,{columns:L,layout:F,id:Z,backgroundImg:R,coblocks:$,paddingSize:P,marginSize:V,marginUnit:O,marginTop:U,marginRight:G,marginBottom:z,marginLeft:D,paddingUnit:j,paddingTop:M,backgroundType:H,hasParallax:K,focalPoint:Q,paddingRight:X,paddingBottom:q,isStackedOnMobile:J,paddingLeft:W,verticalAlignment:Y}=t,ee=(0,b.usePrevious)(g),[te,oe]=(0,l.useState)(!0);(0,l.useEffect)((()=>{ee&&!g&&(oe(!0),c({layout:null,columns:null}))}),[g,ee]);const ne=e=>d()(e,(e=>{let[t,o,n=[]]=e;return(0,S.createBlock)(t,o,ne(n))})),le=()=>!!S.registerBlockVariation,ce=(0,l.createElement)(h.pG,(0,n.Z)({},e,{label:(0,k.__)("Add background to row","coblocks")})),re=[{columns:1,name:(0,k.__)("One column","coblocks"),icon:B.Z.colOne,key:"100"},{columns:2,name:(0,k.__)("Two columns","coblocks"),icon:B.Z.colTwo},{columns:3,name:(0,k.__)("Three columns","coblocks"),icon:B.Z.colThree},{columns:4,name:(0,k.__)("Four columns","coblocks"),icon:B.Z.colFour}];let ae=1;if(L&&(ae=parseInt(L.toString().split("-"))),!F&&te&&!le())return(0,l.createElement)(l.Fragment,null,o&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(E,e),(0,l.createElement)(I,null,(0,l.createElement)(C,e))),(0,l.createElement)(p.Placeholder,{key:"placeholder",className:"components-coblocks-row-placeholder",icon:(0,l.createElement)(p.Icon,{icon:s.M8y}),label:L?(0,k.__)("Row layout","coblocks"):(0,k.__)("Row","coblocks"),instructions:L?(0,k.sprintf)(
/* translators: %s: 'one' 'two' 'three' and 'four' */
(0,k.__)("Select a layout for this %s column row.","coblocks"),(ie=L,1===ie?(0,k.__)("one","coblocks"):2===ie?(0,k.__)("two","coblocks"):3===ie?(0,k.__)("three","coblocks"):4===ie?(0,k.__)("four","coblocks"):void 0)):(0,k.__)("Select the number of columns for this row.","coblocks")},L?(0,l.createElement)(l.Fragment,null,(0,l.createElement)(p.ButtonGroup,{"aria-label":(0,k.__)("Select row layout","coblocks"),className:"block-editor-inner-blocks__template-picker-options block-editor-block-pattern-picker__patterns"},(0,l.createElement)(p.Button,{icon:"exit",className:"components-coblocks-row-placeholder__back",onClick:()=>{c({columns:null}),oe(!0)},label:(0,k.__)("Back to columns","coblocks")}),d()(f.sL[ae],(e=>(0,l.createElement)(p.Tooltip,{text:e.name},(0,l.createElement)("div",{className:"components-coblocks-row-placeholder__button-wrapper"},(0,l.createElement)(p.Button,{key:e.key,className:"components-coblocks-row-placeholder__button block-editor-inner-blocks__template-picker-option block-editor-block-pattern-picker__pattern",isSecondary:!0,onClick:()=>{c({layout:e.key}),oe(!1)}},e.icon))))))):(0,l.createElement)(p.ButtonGroup,{"aria-label":(0,k.__)("Select row columns","coblocks"),className:"block-editor-inner-blocks__template-picker-options block-editor-block-pattern-picker__patterns"},d()(re,(e=>(0,l.createElement)(p.Tooltip,{text:e.name},(0,l.createElement)("div",{className:"components-coblocks-row-placeholder__button-wrapper"},(0,l.createElement)(p.Button,{className:"components-coblocks-row-placeholder__button block-editor-inner-blocks__template-picker-option block-editor-block-pattern-picker__pattern",isSecondary:!0,onClick:()=>{c({columns:e.columns,layout:1===e.columns?e.key:null}),1===e.columns&&oe(!1)}},e.icon))))))));var ie;let se=r()(a,{[`coblocks-row--${Z}`]:Z});$&&void 0!==$.id&&(se=r()(se,`coblocks-row-${$.id}`));const ue=r()("wp-block-coblocks-row__inner",...(0,h.Ro)(t),{"has-text-color":T.color,"has-padding":P&&"no"!==P,[`has-${P}-padding`]:P&&"advanced"!==P,"has-margin":V&&"no"!==V,[`has-${V}-margin`]:V&&"advanced"!==V,"is-stacked-on-mobile":J,[`are-vertically-aligned-${Y}`]:Y}),de={backgroundColor:A.color,backgroundImage:R&&"image"===H?`url(${R})`:void 0,backgroundPosition:Q&&!K?`${100*Q.x}% ${100*Q.y}%`:void 0,color:T.color,paddingTop:"advanced"===P&&M?M+j:void 0,paddingRight:"advanced"===P&&X?X+j:void 0,paddingBottom:"advanced"===P&&q?q+j:void 0,paddingLeft:"advanced"===P&&W?W+j:void 0,marginTop:"advanced"===V&&U?U+O:void 0,marginRight:"advanced"===V&&G?G+O:void 0,marginBottom:"advanced"===V&&z?z+O:void 0,marginLeft:"advanced"===V&&D?D+O:void 0};if(g||F){const n=()=>(0,l.createElement)(_.InnerBlocks,{template:f.XK[F],templateLock:"all",allowedBlocks:f.Ss,templateInsertUpdatesSelection:1===L,renderAppender:()=>null}),c=()=>(0,l.createElement)(_.InnerBlocks,{allowedBlocks:f.Ss,templateInsertUpdatesSelection:1===L,renderAppender:()=>null,templateLock:"all"});return(0,l.createElement)(l.Fragment,null,ce,o&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(E,e),(0,l.createElement)(I,null,(0,l.createElement)(C,e))),(0,l.createElement)("div",{className:se},(0,m.isBlobURL)(R)&&(0,l.createElement)(p.Spinner,null),(0,l.createElement)(y.Z,t,(0,l.createElement)("div",{className:ue,style:de},(0,h.QF)(t),le()?c():n()))))}return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(_.__experimentalBlockVariationPicker,{icon:i()(x,["icon","src"]),label:i()(x,["title"]),instructions:(0,k.__)("Select a variation to start with.","coblocks"),variations:u,allowSkip:!0,onSelect:e=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;e.attributes&&c(e.attributes),e.innerBlocks&&w(N,ne(e.innerBlocks))}(e)}))}))},9881:function(e,t,o){var n=o(7816),l=o(9291)(n);e.exports=l},8483:function(e,t,o){var n=o(5063)();e.exports=n},7816:function(e,t,o){var n=o(8483),l=o(3674);e.exports=function(e,t){return e&&n(e,t,l)}},9199:function(e,t,o){var n=o(9881),l=o(8612);e.exports=function(e,t){var o=-1,c=l(e)?Array(e.length):[];return n(e,(function(e,n,l){c[++o]=t(e,n,l)})),c}},9291:function(e,t,o){var n=o(8612);e.exports=function(e,t){return function(o,l){if(null==o)return o;if(!n(o))return e(o,l);for(var c=o.length,r=t?c:-1,a=Object(o);(t?r--:++r<c)&&!1!==l(a[r],r,a););return o}}},5063:function(e){e.exports=function(e){return function(t,o,n){for(var l=-1,c=Object(t),r=n(t),a=r.length;a--;){var i=r[e?a:++l];if(!1===o(c[i],i,c))break}return t}}},5161:function(e,t,o){var n=o(9932),l=o(7206),c=o(9199),r=o(1469);e.exports=function(e,t){return(r(e)?n:c)(e,l(t,3))}}}]);